(this.webpackJsonpweb_project_10=this.webpackJsonpweb_project_10||[]).push([[0],{13:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(4),c=a.n(o),s=(a(3),a(1)),i=a(5),l=a.n(i);var u=function(){return r.a.createElement("div",{className:"Header"},r.a.createElement("header",{className:"header"},r.a.createElement("img",{src:l.a,alt:"Around The U.S. text logo",className:"logo"})))},p=a(6),m=a(7),d=new(function(){function e(t){var a=t.baseURL,n=t.headers;Object(p.a)(this,e),this._baseURL=a,this._headers=n}return Object(m.a)(e,[{key:"getUserInfo",value:function(){return fetch(this._baseURL+"/users/me",{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject(e.status+" Error: "+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"setUserInfo",value:function(e,t){return fetch(this._baseURL+"/users/me",{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e,about:t})}).then((function(e){return e.ok?e.json():Promise.reject(e.status+" Error: "+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"setUserAvatar",value:function(e){return fetch(this._baseURL+"/users/me/avatar",{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then((function(e){return e.ok?e.json():Promise.reject(e.status+" Error: "+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"getCardList",value:function(){return fetch(this._baseURL+"/cards",{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject(e.status+" Error: "+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"addCard",value:function(e){var t=e.name,a=e.link;return fetch(this._baseURL+"/cards",{headers:this._headers,method:"POST",body:JSON.stringify({name:t,link:a})}).then((function(e){return e.ok?e.json():Promise.reject(e.status+" Error: "+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"removeCard",value:function(e){return fetch(this._baseURL+"/cards/"+e,{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject(e.status+" Error: "+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"addCardLike",value:function(e){return fetch(this._baseURL+"/cards/likes/"+e,{headers:this._headers,method:"PUT"}).then((function(e){return e.ok?e.json():Promise.reject(e.status+" Error: "+e.statusText)})).catch((function(e){return console.log(e)}))}},{key:"removeCardLike",value:function(e){return fetch(this._baseURL+"/cards/likes/"+e,{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject(e.status+" Error: "+e.statusText)})).catch((function(e){return console.log(e)}))}}]),e}())({baseURL:"https://around.nomoreparties.co/v1/group-3",headers:{authorization:"bfb84dd3-54e8-4642-a5bf-7fe819e5fd4b","Content-Type":"application/json"}});var _=function(e){return r.a.createElement("li",{className:"photo-grid__item",key:e.card.id},r.a.createElement("div",{className:"photo-grid__image",style:{backgroundImage:"url(".concat(e.image,")")},onClick:function(){e.onCard(e.card)}}),r.a.createElement("button",{className:"trash-button","aria-label":"Delete Card",onClick:e.onDeleteCard}),r.a.createElement("div",{className:"photo-grid__description"},r.a.createElement("h3",{className:"photo-grid__label"},e.title),r.a.createElement("div",{className:"photo-grid__likes"},r.a.createElement("button",{className:"like-button","aria-label":"Like Card"}),r.a.createElement("p",{className:"photo-grid__likes-count"},e.likes))))};var h=function(e){var t=r.a.useState("Name Placeholder"),a=Object(s.a)(t,2),n=a[0],o=a[1],c=r.a.useState("Description Placeholder"),i=Object(s.a)(c,2),l=i[0],u=i[1],p=r.a.useState("(.././images/blackheart.svg)"),m=Object(s.a)(p,2),h=m[0],f=m[1],E=r.a.useState([]),b=Object(s.a)(E,2),g=b[0],v=b[1];return r.a.useEffect((function(){d.getUserInfo().then((function(e){o(e.name),u(e.job),f(e.avatar)})),d.getCardList().then((function(e){v(e.map((function(e){return{key:e._id,title:e.name,image:e.link,likes:e.likes.length}})))}))}),[]),console.log(g),r.a.createElement("main",{className:"content"},r.a.createElement("section",{className:"profile"},r.a.createElement("div",{className:"profile__avatar"},r.a.createElement("img",{src:h,alt:"Profile avatar",className:"avatar avatar_profile"}),r.a.createElement("div",{className:"avatar__edit-overlay"},r.a.createElement("button",{className:"edit-button edit-button_avatar","aria-label":"Edit Avatar",onClick:e.onEditAvatar}))),r.a.createElement("div",{className:"profile__info"},r.a.createElement("h1",{className:"profile__name"},n),r.a.createElement("button",{className:"edit-button edit-button_profile","aria-label":"Edit Profile",onClick:e.onEditProfile}),r.a.createElement("p",{className:"profile__occupation"},l)),r.a.createElement("button",{className:"add-button","aria-label":"Add Card",onClick:e.onAddCard})),r.a.createElement("section",{className:"photo-grid"},r.a.createElement("ul",{className:"photo-grid__list"},g.map((function(t){return r.a.createElement(_,{key:t.id,title:t.title,image:t.image,likes:t.likes,card:t,onCard:e.onCard,onDeleteCard:e.onDeleteCard})})))))};var f=function(){return r.a.createElement("div",{className:"Footer"},r.a.createElement("footer",{className:"footer"},r.a.createElement("p",null,"\xa9 2020 Around The U.S.")))};var E=function(e){return r.a.createElement("div",null,r.a.createElement("section",{className:e.isOpen?"popup popup_type_".concat(e.name," popup_opened"):"popup popup_type_".concat(e.name)},r.a.createElement("div",{className:"popup__container popup__container_type_form"},r.a.createElement("button",{className:"close-button","aria-label":"Close ".concat(e.action," Popup"),onClick:e.onClose}),r.a.createElement("h2",{className:"popup__title"},e.title),r.a.createElement("form",{className:"popup__form popup__form_type_".concat(e.name)},e.children,r.a.createElement("button",{className:"popup__button ".concat(e.button,"-button"),type:"submit","aria-label":"".concat(e.action),onClick:e.onClose})))))};var b=function(e){return r.a.createElement("div",null,r.a.createElement("section",{className:e.isOpen?"popup popup_type_image popup_opened":"popup popup_type_image"},r.a.createElement("div",{className:"popup__container popup__container_type_image"},r.a.createElement("figure",{className:"figure"},r.a.createElement("button",{className:"close-button","aria-label":"Close Image Popup",onClick:e.onClose}),r.a.createElement("img",{className:"popup__image",alt:e.card.title,src:e.card.image}),r.a.createElement("figcaption",{className:"popup__caption"},e.card.title)))))};var g=function(){var e=r.a.useState(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],o=r.a.useState(!1),c=Object(s.a)(o,2),i=c[0],l=c[1],p=r.a.useState(!1),m=Object(s.a)(p,2),d=m[0],_=m[1],g=r.a.useState(!1),v=Object(s.a)(g,2),N=v[0],k=v[1],C=r.a.useState(!1),y=Object(s.a)(C,2),j=y[0],L=y[1],O=r.a.useState(!1),P=Object(s.a)(O,2),U=P[0],x=P[1];function S(){n(!1),l(!1),_(!1),L(!1)}return r.a.createElement("div",{className:"App"},r.a.createElement("body",{className:"page"},r.a.createElement(u,null),r.a.createElement(h,{onEditAvatar:function(){n(!0)},onEditProfile:function(){l(!0)},onAddCard:function(){_(!0)},onCard:function(e){k(e),L(!0)},onDeleteCard:function(){x(!0)},selectedCard:N}),r.a.createElement(E,{name:"edit-avatar",action:"Edit Avatar",title:"Change profile picture",button:"save",onClose:S,isOpen:a},r.a.createElement("input",{name:"avatar",id:"avatar-url",className:"popup__input popup__input_type_url",type:"url",placeholder:"Image URL",required:!0}),r.a.createElement("span",{id:"avatar-url-error",className:"popup__error"})),r.a.createElement(E,{name:"edit-profile",action:"Edit Profile",title:"Edit profile",button:"save",onClose:S,isOpen:i},r.a.createElement("input",{name:"userName",id:"profile-name",className:"popup__input popup__input_type_name",type:"text",placeholder:"Name",required:!0,minLength:"2",maxLength:"40"}),r.a.createElement("span",{id:"profile-name-error",className:"popup__error"}),r.a.createElement("input",{name:"userOccupation",id:"profile-occupation",className:"popup__input popup__input_type_occupation",type:"text",placeholder:"About Me",required:!0,minLength:"2",maxLength:"200"}),r.a.createElement("span",{id:"profile-occupation-error",className:"popup__error"})),r.a.createElement(E,{name:"add-card",action:"Add Card",title:"New Place",button:"create",onClose:S,isOpen:d},r.a.createElement("input",{name:"name",id:"card-label",className:"popup__input popup__input_type_label",type:"text",placeholder:"Label",required:!0,minLength:"1",maxLength:"30"}),r.a.createElement("span",{id:"card-label-error",className:"popup__error"}),r.a.createElement("input",{name:"link",id:"card-url",className:"popup__input popup__input_type_url",type:"url",placeholder:"Image URL",required:!0}),r.a.createElement("span",{id:"card-url-error",className:"popup__error"})),r.a.createElement(b,{image:"",title:"Image Caption",card:N,onClose:S,isOpen:j}),r.a.createElement(E,{name:"delete-card",action:"Delete Card",title:"Are you sure?",button:"yes",onClose:S,isOpen:U}),r.a.createElement(f,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},3:function(e,t,a){},5:function(e,t,a){e.exports=a.p+"static/media/logo.8f7611ae.svg"},8:function(e,t,a){e.exports=a(13)}},[[8,1,2]]]);
//# sourceMappingURL=main.4273fa2c.chunk.js.map